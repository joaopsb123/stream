<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AnimeFlix - Seu portal de animes</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  :root {
    --primary: #8a2be2;
    --primary-dark: #6a1cb9;
    --secondary: #ff3864;
    --dark: #0b0c10;
    --dark-light: #1c1f27;
    --text: #e6e6e6;
    --text-light: #a0a0a0;
  }
  body { 
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
    background: var(--dark); 
    color: var(--text); 
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  
  /* Header e Navegação */
  header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 16px 32px; 
    background: var(--dark-light);
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
  
  .logo { 
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 26px; 
    font-weight: 700; 
    color: #fff; 
    text-decoration: none;
  }
  
  .logo span {
    color: var(--primary);
  }
  
  nav ul {
    display: flex;
    list-style: none;
    gap: 24px;
  }
  
  nav a {
    color: var(--text);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s;
    position: relative;
    padding: 6px 0;
  }
  
  nav a:hover {
    color: var(--primary);
  }
  
  nav a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--primary);
    transition: width 0.3s;
  }
  
  nav a:hover::after {
    width: 100%;
  }
  
  .user-actions {
    display: flex;
    align-items: center;
    gap: 16px;
  }
  
  .user-actions button {
    background: none;
    border: none;
    color: var(--text);
    font-size: 18px;
    cursor: pointer;
    transition: color 0.3s;
  }
  
  .user-actions button:hover {
    color: var(--primary);
  }
  
  /* Conteúdo Principal */
  main { 
    flex: 1;
    padding: 20px; 
  }
  
  .hero {
    text-align: center;
    margin-bottom: 40px;
    padding: 40px 20px;
    background: linear-gradient(to right, rgba(138, 43, 226, 0.2), rgba(255, 56, 100, 0.2)), url('https://images.unsplash.com/photo-1598520106830-8c45c2035460?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
    background-size: cover;
    background-position: center;
    border-radius: 16px;
    position: relative;
    overflow: hidden;
  }
  
  .hero h2 {
    font-size: 2.5rem;
    margin-bottom: 16px;
    color: white;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  }
  
  .hero p {
    font-size: 1.2rem;
    max-width: 700px;
    margin: 0 auto 24px;
    color: white;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
  }
  
  .search-container {
    width: 90%;
    max-width: 600px;
    margin: 0 auto 40px;
    position: relative;
  }
  
  #search { 
    width: 100%;
    padding: 16px 50px 16px 20px; 
    border-radius: 50px; 
    border: none; 
    outline: none; 
    background: var(--dark-light); 
    color: var(--text); 
    font-size: 16px; 
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    transition: box-shadow 0.3s;
  }
  
  #search:focus {
    box-shadow: 0 4px 16px rgba(138, 43, 226, 0.4);
  }
  
  .search-icon {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-light);
    font-size: 20px;
  }
  
  .section-title {
    font-size: 24px;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--primary);
    display: inline-block;
  }
  
  /* Lista de Animes */
  #animeList { 
    display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); 
    gap: 24px; 
    width: 100%; 
    max-width: 1200px; 
    margin: 0 auto;
  }
  
  .anime-card { 
    background: var(--dark-light); 
    border-radius: 16px; 
    overflow: hidden; 
    cursor: pointer; 
    transition: 0.3s; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    display: flex; 
    flex-direction: column;
    position: relative;
  }
  
  .anime-card:hover { 
    transform: translateY(-8px); 
    box-shadow: 0 12px 25px rgba(0,0,0,0.5); 
  }
  
  .anime-card img { 
    width: 100%; 
    border-radius: 12px 12px 0 0; 
    object-fit: cover; 
    height: 280px; 
  }
  
  .anime-card-content {
    padding: 16px;
    flex: 1;
    display: flex;
    flex-direction: column;
  }
  
  .anime-card h3 { 
    font-size: 18px; 
    color: #fff; 
    margin-bottom: 8px;
  }
  
  .anime-info {
    display: flex;
    justify-content: space-between;
    color: var(--text-light);
    font-size: 14px;
    margin-bottom: 12px;
  }
  
  .rating {
    color: gold;
    font-size: 14px;
  }
  
  .anime-card-actions {
    display: flex;
    justify-content: space-between;
    margin-top: auto;
  }
  
  .btn {
    padding: 8px 16px;
    border-radius: 50px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }
  
  .btn-primary {
    background: var(--primary);
    color: white;
  }
  
  .btn-primary:hover {
    background: var(--primary-dark);
  }
  
  .btn-secondary {
    background: transparent;
    color: var(--text);
    border: 1px solid var(--text-light);
  }
  
  .btn-secondary:hover {
    background: rgba(255,255,255,0.1);
  }
  
  .favorite-btn {
    background: none;
    border: none;
    color: var(--text-light);
    font-size: 18px;
    cursor: pointer;
    transition: color 0.3s;
  }
  
  .favorite-btn.active {
    color: var(--secondary);
  }
  
  /* Modal de Detalhes */
  .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.8);
    z-index: 1000;
    overflow-y: auto;
  }
  
  .modal-content {
    background: var(--dark-light);
    margin: 40px auto;
    border-radius: 16px;
    max-width: 900px;
    width: 90%;
    overflow: hidden;
    position: relative;
    animation: modalFadeIn 0.3s;
  }
  
  @keyframes modalFadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .close-modal {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(0,0,0,0.5);
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    cursor: pointer;
    z-index: 10;
    transition: background 0.3s;
  }
  
  .close-modal:hover {
    background: rgba(0,0,0,0.7);
  }
  
  .anime-detail-header {
    position: relative;
    height: 400px;
    overflow: hidden;
  }
  
  .anime-detail-header img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .anime-detail-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 30px;
    background: linear-gradient(transparent, rgba(0,0,0,0.8));
    color: white;
  }
  
  .anime-detail-title {
    font-size: 2.5rem;
    margin-bottom: 10px;
  }
  
  .anime-detail-meta {
    display: flex;
    gap: 20px;
    margin-bottom: 15px;
  }
  
  .anime-detail-body {
    padding: 30px;
  }
  
  .anime-detail-info {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 30px;
    margin-bottom: 30px;
  }
  
  .anime-detail-sidebar {
    background: rgba(0,0,0,0.2);
    padding: 20px;
    border-radius: 12px;
  }
  
  .info-item {
    margin-bottom: 15px;
  }
  
  .info-item h4 {
    color: var(--text-light);
    font-size: 14px;
    margin-bottom: 5px;
  }
  
  .episodes-list {
    margin-top: 30px;
  }
  
  .episode-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    background: rgba(0,0,0,0.1);
    border-radius: 8px;
    margin-bottom: 10px;
    transition: background 0.3s;
  }
  
  .episode-item:hover {
    background: rgba(0,0,0,0.2);
  }
  
  /* Footer */
  footer { 
    text-align: center; 
    padding: 24px 12px; 
    background: var(--dark-light); 
    font-size: 14px; 
    color: var(--text-light);
    margin-top: 40px; 
  }
  
  .footer-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  
  .footer-links {
    display: flex;
    justify-content: center;
    gap: 20px;
  }
  
  .footer-links a {
    color: var(--text-light);
    text-decoration: none;
    transition: color 0.3s;
  }
  
  .footer-links a:hover {
    color: var(--primary);
  }
  
  /* Responsividade */
  @media (max-width: 900px) {
    .anime-detail-info {
      grid-template-columns: 1fr;
    }
  }
  
  @media (max-width: 768px) {
    header {
      flex-direction: column;
      gap: 15px;
      padding: 15px;
    }
    
    nav ul {
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .hero h2 {
      font-size: 2rem;
    }
    
    .hero p {
      font-size: 1rem;
    }
    
    #animeList {
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 16px;
    }
    
    .anime-card img {
      height: 220px;
    }
  }
  
  @media (max-width: 480px) {
    .user-actions {
      gap: 10px;
    }
    
    .anime-detail-title {
      font-size: 1.8rem;
    }
    
    .anime-detail-meta {
      flex-direction: column;
      gap: 10px;
    }
    
    #animeList {
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    }
    
    .anime-card img {
      height: 200px;
    }
  }
</style>
</head>
<body>

<header>
  <a href="#" class="logo">
    <i class="fas fa-play-circle"></i>
    <span>Anime</span>Flix
  </a>
  
  <nav>
    <ul>
      <li><a href="#">Início</a></li>
      <li><a href="#">Catálogo</a></li>
      <li><a href="#">Gêneros</a></li>
      <li><a href="#">Lançamentos</a></li>
      <li><a href="#">Favoritos</a></li>
    </ul>
  </nav>
  
  <div class="user-actions">
    <button id="themeToggle" title="Alternar tema">
      <i class="fas fa-moon"></i>
    </button>
    <button id="userBtn" title="Minha conta">
      <i class="fas fa-user-circle"></i>
    </button>
  </div>
</header>

<main>
  <section class="hero">
    <h2>Bem-vindo ao Mundo dos Animes</h2>
    <p>Assista aos melhores animes legendados e dublados em alta qualidade</p>
  </section>
  
  <div class="search-container">
    <input id="search" placeholder="Pesquisar anime...">
    <div class="search-icon">
      <i class="fas fa-search"></i>
    </div>
  </div>
  
  <h2 class="section-title">Animes em Destaque</h2>
  <div id="animeList"></div>
</main>

<footer>
  <div class="footer-content">
    <div class="footer-links">
      <a href="#">Sobre nós</a>
      <a href="#">Termos de uso</a>
      <a href="#">Política de privacidade</a>
      <a href="#">Contato</a>
    </div>
    <small>© 2023 AnimeFlix - Use apenas arquivos que você tem permissão de hospedar.</small>
  </div>
</footer>

<!-- Modal de Detalhes -->
<div id="animeModal" class="modal">
  <div class="modal-content">
    <div class="close-modal">
      <i class="fas fa-times"></i>
    </div>
    <div class="anime-detail-header">
      <img id="modalImage" src="" alt="">
      <div class="anime-detail-overlay">
        <h2 id="modalTitle" class="anime-detail-title"></h2>
        <div class="anime-detail-meta">
          <span id="modalYear"></span>
          <span id="modalEpisodes"></span>
          <span id="modalStatus"></span>
          <span class="rating" id="modalRating"></span>
        </div>
        <div class="anime-detail-actions">
          <button class="btn btn-primary">
            <i class="fas fa-play"></i> Assistir agora
          </button>
          <button class="btn btn-secondary" id="modalFavoriteBtn">
            <i class="far fa-heart"></i> Favorito
          </button>
        </div>
      </div>
    </div>
    <div class="anime-detail-body">
      <div class="anime-detail-info">
        <div class="anime-detail-sidebar">
          <div class="info-item">
            <h4>Gêneros</h4>
            <p id="modalGenres"></p>
          </div>
          <div class="info-item">
            <h4>Estúdio</h4>
            <p id="modalStudio"></p>
          </div>
          <div class="info-item">
            <h4>Diretor</h4>
            <p id="modalDirector"></p>
          </div>
        </div>
        <div class="anime-detail-description">
          <h3>Sinopse</h3>
          <p id="modalDescription"></p>
        </div>
      </div>
      
      <div class="episodes-list">
        <h3>Episódios</h3>
        <div id="modalEpisodesList"></div>
      </div>
    </div>
  </div>
</div>

<script>
// Catálogo de animes com mais informações
const catalog = [
  {
    id: 1,
    title: "Solo Leveling",
    image: "https://images.unsplash.com/photo-1633356122544-f134324a6cee?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    description: "Em um mundo onde caçadores, humanos que possuem habilidades mágicas, devem lutar contra monstros mortais para proteger a raça humana de certa aniquilação, um caçador notoriamente fraco chamado Sung Jinwoo se encontra em uma luta aparentemente interminável pela sobrevivência. Um dia, depois de sobreviver por pouco a uma masmorra dupla esmagadoramente poderosa que quase acaba com todo o seu grupo, um programa misterioso chamado Sistema o escolhe como seu único jogador e, em turno, dá a ele a habilidade extremamente rara de subir de nível em força, possivelmente beyond qualquer escala conhecida. Segue a jornada de Jinwoo enquanto ele luta contra todos os tipos de inimigos, tanto humanos quanto monstros, para descobrir os segredos por trás das masmorras e a verdadeira fonte de seus poderes.",
    year: "2024",
    episodes: "12",
    status: "Em andamento",
    rating: "4.8",
    genres: ["Ação", "Aventura", "Fantasia"],
    studio: "A-1 Pictures",
    director: "Shunsuke Nakashige",
    episodes: [
      {
        name: "Episódio 1 - Dublado",
        file: "https://drive.google.com/file/d/1iZe7IyoaBsSu0MaM-C_l3ARCacVwtQl5/view?usp=drivesdk"
      },
      {
        name: "Episódio 2 - Dublado",
        file: "https://drive.google.com/file/d/1iZe7IyoaBsSu0MaM-C_l3ARCacVwtQl5/view?usp=drivesdk"
      },
      {
        name: "Episódio 3 - Dublado",
        file: "https://drive.google.com/file/d/1iZe7IyoaBsSu0MaM-C_l3ARCacVwtQl5/view?usp=drivesdk"
      }
    ]
  },
  {
    id: 2,
    title: "Attack on Titan",
    image: "https://images.unsplash.com/photo-1541562232579-512a21360020?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    description: "Há várias décadas, a humanidade foi forçada a quase ser extinta por monstros gigantescos que parecem não ter inteligência, conhecidos como Titãs. Os titãs geralmente devoram humanos, mas não por necessidade biológica, aparentemente apenas por prazer. Uma pequena porcentagem de humanos sobreviveu cercando-se em uma cidade protegida por paredes extremamente altas, mesmo mais altas que os maiores titãs. A história segue as aventuras de Eren Jaeger, sua irmã adotiva Mikasa Ackerman e seu amigo de infância Armin Arlert, cujas vidas mudam para sempre após a aparição de um titã colossal, que provoca a brecha da muralha de sua cidade natal, atraindo titãs para dentro e causando a morte da mãe de Eren. Jurando vingança e recuperar o mundo dos titãs, Eren, Mikasa e Armin se juntam ao Esquadrão de Reconhecimento, um grupo de elite de soldados que lutam contra titãs fora das muralhas.",
    year: "2013",
    episodes: "75+",
    status: "Completo",
    rating: "4.9",
    genres: ["Ação", "Drama", "Fantasia Sombria"],
    studio: "Wit Studio, MAPPA",
    director: "Tetsurō Araki",
    episodes: [
      {
        name: "Episódio 1 - Legendado",
        file: "https://example.com/aot_ep1"
      },
      {
        name: "Episódio 2 - Legendado",
        file: "https://example.com/aot_ep2"
      }
    ]
  },
  {
    id: 3,
    title: "Demon Slayer",
    image: "https://images.unsplash.com/photo-1633356122544-f134324a6cee?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    description: "Tanjiro Kamado é um jovem bondoso e inteligente que vive com sua mãe e seus irmãos, ganhando dinheiro vendendo carvão. Tudo muda quando sua família é massacrada por demônios e a única outra sobrevivente, sua irmã Nezuko, é transformada em um demônio. Para sua surpresa, no entanto, Nezuko ainda mostra sinais de emoção e pensamento humanos. Assim começa a jornada de Tanjiro para se tornar um matador de demônios e fazer com que sua irmã volte a ser humana.",
    year: "2019",
    episodes: "55+",
    status: "Em andamento",
    rating: "4.7",
    genres: ["Ação", "Fantasia", "Histórico"],
    studio: "Ufotable",
    director: "Haruo Sotozaki",
    episodes: [
      {
        name: "Episódio 1 - Dublado",
        file: "https://example.com/ds_ep1"
      }
    ]
  },
  {
    id: 4,
    title: "Jujutsu Kaisen",
    image: "https://images.unsplash.com/photo-1541562232579-512a21360020?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    description: "O estudante do ensino médio Yuuji Itadori, que vive em Sendai, junta-se ao clube de ocultismo. Embora possua um físico excepcional, ele evita consistentemente o clube de atletismo devido à sua aversão ao atletismo. Um dia, o selo de um talismã amaldiçoado é quebrado e monstros amaldiçoados aparecem na escola. Itadori corre para salvar seus colegas e engole o talismã para protegê-los, tornando-se o hospedeiro de Ryomen Sukuna, um poderoso feiticeiro amaldiçoado.",
    year: "2020",
    episodes: "24+",
    status: "Em andamento",
    rating: "4.8",
    genres: ["Ação", "Fantasia Sombria", "Horror"],
    studio: "MAPPA",
    director: "Sunghoo Park",
    episodes: [
      {
        name: "Episódio 1 - Legendado",
        file: "https://example.com/jjk_ep1"
      }
    ]
  },
  {
    id: 5,
    title: "My Hero Academia",
    image: "https://images.unsplash.com/photo-1633356122544-f134324a6cee?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    description: "A série segue Izuku Midoriya, um menino que nasceu sem individualidade em um mundo onde ter poderes especiais é a norma, mas ainda sonha em se tornar um herói. Ele é scouted por All Might, o maior herói de todos, que escolhe Midoriya como seu sucessor após reconhecer seu potencial e compartilha sua individualidade com ele após salvá-lo de um vilão. Ele então se matricula em uma escola secundária para heróis em treinamento.",
    year: "2016",
    episodes: "113+",
    status: "Em andamento",
    rating: "4.6",
    genres: ["Ação", "Comédia", "Escolar"],
    studio: "Bones",
    director: "Kenji Nagasaki",
    episodes: [
      {
        name: "Episódio 1 - Dublado",
        file: "https://example.com/mha_ep1"
      }
    ]
  },
  {
    id: 6,
    title: "One Piece",
    image: "https://images.unsplash.com/photo-1541562232579-512a21360020?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
    description: "A série centra-se em Monkey D. Luffy, um jovem que, inspirado por seu ídolo de infância e poderoso pirata Shanks, parte em uma jornada do mar East Blue para encontrar o tesouro famoso e proclamar-se o Rei dos Piratas. Em um esforço para organizar sua própria tripulação, os Piratas do Chapéu de Palha, Luffy salva e se torna amigo de um espadachim chamado Roronoa Zoro, e eles partem em busca do tesouro titular.",
    year: "1999",
    episodes: "1000+",
    status: "Em andamento",
    rating: "4.9",
    genres: ["Ação", "Aventura", "Comédia"],
    studio: "Toei Animation",
    director: "Kōnosuke Uda",
    episodes: [
      {
        name: "Episódio 1 - Legendado",
        file: "https://example.com/op_ep1"
      }
    ]
  }
];

// Favoritos
let favorites = JSON.parse(localStorage.getItem('favorites')) || [];

function renderList(filter='') {
  const listEl = document.getElementById('animeList');
  listEl.innerHTML='';
  
  const filteredAnimes = catalog.filter(a => 
    a.title.toLowerCase().includes(filter.toLowerCase()) ||
    a.genres.some(genre => genre.toLowerCase().includes(filter.toLowerCase()))
  );
  
  if (filteredAnimes.length === 0) {
    listEl.innerHTML = `<div class="no-results">Nenhum anime encontrado para "${filter}"</div>`;
    return;
  }
  
  filteredAnimes.forEach(anime => {
    const isFavorite = favorites.includes(anime.id);
    
    const card = document.createElement('div');
    card.className = 'anime-card';
    card.innerHTML = `
      <img src="${anime.image}" alt="${anime.title}">
      <div class="anime-card-content">
        <h3>${anime.title}</h3>
        <div class="anime-info">
          <span>${anime.year}</span>
          <span class="rating">★ ${anime.rating}</span>
        </div>
        <div class="anime-card-actions">
          <button class="btn btn-primary">
            <i class="fas fa-play"></i> Assistir
          </button>
          <button class="favorite-btn ${isFavorite ? 'active' : ''}" data-id="${anime.id}">
            <i class="${isFavorite ? 'fas' : 'far'} fa-heart"></i>
          </button>
        </div>
      </div>
    `;
    
    // Clique no card abre os detalhes
    card.querySelector('.btn-primary').addEventListener('click', (e) => {
      e.stopPropagation();
      window.open(anime.episodes[0].file, '_blank');
    });
    
    // Botão de favorito
    const favBtn = card.querySelector('.favorite-btn');
    favBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleFavorite(anime.id, favBtn);
    });
    
    // Clique no card abre modal de detalhes
    card.addEventListener('click', () => {
      openAnimeDetails(anime);
    });
    
    listEl.appendChild(card);
  });
}

function toggleFavorite(animeId, button) {
  const index = favorites.indexOf(animeId);
  
  if (index === -1) {
    favorites.push(animeId);
    button.classList.add('active');
    button.innerHTML = '<i class="fas fa-heart"></i>';
  } else {
    favorites.splice(index, 1);
    button.classList.remove('active');
    button.innerHTML = '<i class="far fa-heart"></i>';
  }
  
  localStorage.setItem('favorites', JSON.stringify(favorites));
}

function openAnimeDetails(anime) {
  const modal = document.getElementById('animeModal');
  const isFavorite = favorites.includes(anime.id);
  
  // Preencher informações do modal
  document.getElementById('modalImage').src = anime.image;
  document.getElementById('modalTitle').textContent = anime.title;
  document.getElementById('modalYear').textContent = anime.year;
  document.getElementById('modalEpisodes').textContent = `${anime.episodes.length} Episódios`;
  document.getElementById('modalStatus').textContent = anime.status;
  document.getElementById('modalRating').textContent = `★ ${anime.rating}`;
  document.getElementById('modalGenres').textContent = anime.genres.join(', ');
  document.getElementById('modalStudio').textContent = anime.studio;
  document.getElementById('modalDirector').textContent = anime.director;
  document.getElementById('modalDescription').textContent = anime.description;
  
  // Botão de favorito no modal
  const favBtn = document.getElementById('modalFavoriteBtn');
  favBtn.innerHTML = isFavorite ? 
    '<i class="fas fa-heart"></i> Favorito' : 
    '<i class="far fa-heart"></i> Favorito';
  
  favBtn.onclick = () => {
    toggleFavorite(anime.id, favBtn);
    favBtn.innerHTML = favorites.includes(anime.id) ? 
      '<i class="fas fa-heart"></i> Favorito' : 
      '<i class="far fa-heart"></i> Favorito';
  };
  
  // Lista de episódios
  const episodesList = document.getElementById('modalEpisodesList');
  episodesList.innerHTML = '';
  
  anime.episodes.forEach(episode => {
    const episodeEl = document.createElement('div');
    episodeEl.className = 'episode-item';
    episodeEl.innerHTML = `
      <span>${episode.name}</span>
      <button class="btn btn-primary">
        <i class="fas fa-play"></i> Assistir
      </button>
    `;
    
    episodeEl.querySelector('button').addEventListener('click', () => {
      window.open(episode.file, '_blank');
    });
    
    episodesList.appendChild(episodeEl);
  });
  
  // Botão de assistir agora (primeiro episódio)
  document.querySelector('.anime-detail-actions .btn-primary').onclick = () => {
    window.open(anime.episodes[0].file, '_blank');
  };
  
  // Mostrar modal
  modal.style.display = 'block';
}

// Fechar modal
document.querySelector('.close-modal').addEventListener('click', () => {
  document.getElementById('animeModal').style.display = 'none';
});

// Fechar modal clicando fora
window.addEventListener('click', (e) => {
  const modal = document.getElementById('animeModal');
  if (e.target === modal) {
    modal.style.display = 'none';
  }
});

// Alternar tema claro/escuro
document.getElementById('themeToggle').addEventListener('click', () => {
  document.body.classList.toggle('light-theme');
  const icon = document.querySelector('#themeToggle i');
  if (document.body.classList.contains('light-theme')) {
    icon.classList.remove('fa-moon');
    icon.classList.add('fa-sun');
  } else {
    icon.classList.remove('fa-sun');
    icon.classList.add('fa-moon');
  }
});

// Inicializar
renderList();

// Pesquisa
document.getElementById('search').addEventListener('input', e => {
  renderList(e.target.value);
});

// Estilo para tema claro (opcional)
const style = document.createElement('style');
style.textContent = `
  .light-theme {
    --dark: #f5f5f5;
    --dark-light: #e0e0e0;
    --text: #333;
    --text-light: #666;
  }
  
  .light-theme .anime-card,
  .light-theme .modal-content,
  .light-theme .anime-detail-sidebar {
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  
  .light-theme .episode-item {
    background: rgba(0,0,0,0.05);
  }
`;
document.head.appendChild(style);
</script>

</body>
 </html>
