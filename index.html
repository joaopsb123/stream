<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Site de Animes Moderno</title>
<style>
  /* Reset bÃ¡sico */
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#0b0c10; color:#e6e6e6; min-height:100vh; }

  header { display:flex; justify-content:space-between; align-items:center; padding:16px 32px; background:#111; }
  header h1 { font-size:26px; font-weight:700; color:#fff; }
  header a { color:#5865F2; text-decoration:none; font-weight:bold; transition:0.3s; }
  header a:hover { color:#7289da; }

  main { display:flex; flex-direction:column; align-items:center; padding:20px; }
  
  #search { width:90%; max-width:600px; padding:12px 16px; margin-bottom:24px; border-radius:12px; border:none; outline:none; background:#1c1f27; color:#e6e6e6; font-size:16px; }
  #animeList { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:20px; width:100%; max-width:1200px; }

  .anime-card { background:#111; border-radius:16px; overflow:hidden; cursor:pointer; transition:0.3s; box-shadow:0 4px 15px rgba(0,0,0,0.5); display:flex; flex-direction:column; align-items:center; text-align:center; padding:16px; }
  .anime-card:hover { transform:translateY(-6px); box-shadow:0 8px 25px rgba(0,0,0,0.6); }
  .anime-card img { width:100%; border-radius:12px; object-fit:cover; height:250px; margin-bottom:12px; }
  .anime-card h3 { font-size:18px; color:#fff; }

  footer { text-align:center; padding:12px; background:#111; font-size:14px; color:#888; margin-top:40px; }

  /* Player */
  #playerSection { display:flex; flex-direction:column; align-items:center; margin-top:24px; width:90%; max-width:900px; }
  video { width:100%; border-radius:12px; background:#000; box-shadow:0 0 20px rgba(0,0,0,0.7); }
  #episodeList { display:flex; flex-wrap:wrap; gap:12px; margin-top:12px; justify-content:center; }
  button { border:none; padding:10px 16px; border-radius:12px; background:#5865F2; color:white; cursor:pointer; font-weight:600; transition:0.2s; }
  button:hover { opacity:0.9; }

  @media(max-width:800px){ #animeList{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));} }
</style>
</head>
<body>

<header>
  <h1>ðŸŽŒ Meus Animes</h1>
  <a href="index.html">InÃ­cio</a>
</header>

<main>
  <input id="search" placeholder="Pesquisar anime...">
  <div id="animeList"></div>

  <section id="playerSection" style="display:none;">
    <h2 id="animeTitle"></h2>
    <video id="player" controls autoplay></video>
    <div id="episodeList"></div>
  </section>
</main>

<footer>
  <small>Use apenas arquivos que vocÃª tem permissÃ£o de hospedar.</small>
</footer>

<script>
  let catalog = [];
  let selectedAnime = null;

  fetch('catalog.json').then(r=>r.json()).then(data=>{
    catalog = data;
    renderList();
  });

  function renderList(filter='') {
    const listEl = document.getElementById('animeList');
    listEl.innerHTML = '';
    catalog.filter(a=>a.title.toLowerCase().includes(filter.toLowerCase()))
      .forEach((anime,idx)=>{
        const card = document.createElement('div');
        card.className='anime-card';
        card.innerHTML=`<img src="https://via.placeholder.com/400x250.png?text=${encodeURIComponent(anime.title)}"><h3>${anime.title}</h3>`;
        card.onclick=()=>selectAnime(idx);
        listEl.appendChild(card);
      });
  }

  function selectAnime(idx){
    selectedAnime = catalog[idx];
    document.getElementById('animeTitle').textContent=selectedAnime.title;
    const section=document.getElementById('playerSection');
    section.style.display='flex';

    const episodeList=document.getElementById('episodeList');
    episodeList.innerHTML='';
    selectedAnime.episodes.forEach(ep=>{
      const btn=document.createElement('button');
      btn.textContent=ep.name;
      btn.onclick=()=>{ document.getElementById('player').src=ep.file; document.getElementById('player').play(); };
      episodeList.appendChild(btn);
    });

    if(selectedAnime.episodes[0]){
      document.getElementById('player').src=selectedAnime.episodes[0].file;
    }

    // Scroll suave atÃ© o player
    section.scrollIntoView({behavior:'smooth'});
  }

  document.getElementById('search').addEventListener('input', e=>renderList(e.target.value));
</script>

</body>
</html>
